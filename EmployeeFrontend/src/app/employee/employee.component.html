<div class="container">
  <h2>Employee Information Form</h2>

  <form [formGroup]="employeeForm" class="form-group">
    <div class="form-row">
      <label>Employee Number</label>
      <input type="text" formControlName="employeeNumber" 
             oninput="this.value = this.value.replace(/[^0-9]/g, '')" class="custom-width">
    </div>

    <div class="form-row">
      <label>First Name</label>
      <input type="text" formControlName="firstName">
    </div>

    <div class="form-row">
      <label>Last Name</label>
      <input type="text" formControlName="lastName">
    </div>

    <div class="form-row">
      <label>Date of Birth</label>
      <input type="date" formControlName="dateOfBirth">
    </div>

    <div class="form-row">
      <label>Salary</label>
      <input type="number" formControlName="salary">
    </div>
    
    <div class="actions">
      <button (click)="onSave()" [disabled]="employeeForm.invalid">Save</button>
      <button (click)="onLoadDataToForm()" [disabled]="!selectedRow">Update</button>
      <button (click)="onDelete(selectedRow?.employeeNumber || 0)" [disabled]="!selectedRow">Delete</button>
      <button (click)="onCancel()">Cancel</button>
    </div>
  </form>

  <hr>

  <table>
    <thead>
      <tr>
        <th>Employee Number</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Date of Birth</th>
        <th>Salary</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let emp of employees" 
          (click)="onSelectRow(emp)" 
          [class.selected]="selectedRow?.employeeNumber === emp.employeeNumber">
        <td>{{ emp.employeeNumber }}</td>
        <td>{{ emp.firstName }}</td>
        <td>{{ emp.lastName }}</td>
        <td>{{ emp.dateOfBirth | date }}</td>
        <td>{{ emp.salary | currency:'LKR':'LKR ' }}</td>
      </tr>
    </tbody>
  </table>

  <div class="avg-salary">
  Average Salary: {{ averageSalary | currency:'LKR':'LKR ' }}
  </div>
</div>